---
import Layout from "../layouts/Layout.astro";
import "./_estilos.css";
import Card from "../components/Card.astro";
import Nav from "../components/nav.astro";
import Hero from "../components/Hero.astro";
---

<Layout title="Ivan Asdrubal Villegas Espinosa | Ingeniero en Sistemas">
  <div id="loader-overlay">
    <span class="loader-text">Bienvenido</span>
  </div>
  
  <!-- Navbar moderna -->
  <nav class="modern-navbar">
    <div class="container">
      <div class="nav-brand">
        <img src="/profile.jpg" alt="IV" class="profile-pic">
      </div>
      <div class="nav-links">
        <a href="#about">Sobre m√≠</a>
        <a href="#experience">Experiencia</a>
        <a href="#projects">Proyectos</a>
        <a href="#skills">Skills</a>
        <a href="#contact">Contacta</a>
      </div>
      <button class="theme-toggle">üåô</button>
    </div>
  </nav>

  <main>
    <!-- Hero Section Espacial -->
    <section class="space-hero">
      <div class="stars"></div>
      <div class="container">
        <div class="hero-content">
          <h1>
            üëã ¬°Hola, soy <span class="gradient-text">Ivan!</span>
          </h1>
          <p class="hero-subtitle">
            Futuro desarrollador de software senior. <em>Step by step, ¬øMe ayudas?</em>
          </p>
          
          <div class="enjoying-section">
            <span class="enjoying-label">Enjoying</span>
            <div class="tech-icons">
              <span class="tech-icon html">HTML</span>
              <span class="tech-icon js">JS</span>
              <span class="tech-icon firebase">üî•</span>
              <span class="tech-icon python">üêç</span>
              <span class="tech-icon git">Git</span>
              <span class="tech-icon css">CSS</span>
            </div>
          </div>

          <p class="hero-description">
            Busco oportunidades pr√°cticas donde aprender y aportar, para que el lema del proyecto no sea
            <br><em>"esto no deber√≠a pasar..."</em>
            <br>Y encontremos juntos soluciones creativas y eficaces.üöÄ
          </p>

          <div class="hero-buttons">
            <a href="/cv.pdf" class="btn-primary">CV ‚¨á</a>
            <a href="#about" class="btn-secondary">Con√≥ceme</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Resto de secciones existentes -->
    <section id="about" class="about">
      <div class="container">
        <h2>Sobre m√≠</h2>
        <div class="about-content">
          <p>
            Como ingeniero en sistemas, me especializo en crear soluciones
            tecnol√≥gicas robustas y escalables. Mi experiencia en desarrollo web
            y arquitectura de sistemas me permite dise√±ar soluciones que no solo
            funcionan, sino que tambi√©n son mantenibles y eficientes.
          </p>
          <p>
            Mi enfoque se centra en la calidad del c√≥digo, la optimizaci√≥n de
            rendimiento y la experiencia del usuario. Me apasiona resolver
            problemas complejos y crear sistemas que realmente hagan la
            diferencia.
          </p>
        </div>
      </div>
    </section>

    <!-- Resto de tu c√≥digo existente... -->
    <section id="projects" class="projects">
      <div class="container">
        <h2>Proyectos Destacados</h2>
        <div class="project-grid">
          <Card
            title="Sistema Inmobiliario"
            body="Plataforma web moderna para gesti√≥n de propiedades inmobiliarias"
            image="/cafe.avif"
            techStack={["Next.js", "Tailwind CSS", "Node.js", "MongoDB"]}
            href="/cafe"
          />
          <Card
            title="Sistema de Gesti√≥n Empresarial"
            body="Aplicaci√≥n completa para gesti√≥n de recursos empresariales"
            image="/proyecto2.avif"
            techStack={["React", "Node.js", "PostgreSQL", "Docker"]}
            href="/proyecto2"
          />
        </div>
      </div>
    </section>

    <section id="skills" class="skills">
      <div class="container">
        <h2>Especialidades</h2>
        <div class="menu-board">
          <div class="skill-category">
            <h3>Desarrollo Web</h3>
            <ul>
              <li>React</li>
              <li>Next.js</li>
              <li>Astro</li>
              <li>React Native</li>
            </ul>
          </div>
          <div class="skill-category">
            <h3>Backend</h3>
            <ul>
              <li>Node.js</li>
              <li>Express.js</li>
              <li>Nest.js</li>
              <li>GraphQL</li>
            </ul>
          </div>
          <div class="skill-category">
            <h3>Bases de Datos</h3>
            <ul>
              <li>MongoDB</li>
              <li>PostgreSQL</li>
              <li>MySQL</li>
              <li>Redis</li>
            </ul>
          </div>
          <div class="skill-category">
            <h3>Herramientas</h3>
            <ul>
              <li>Docker</li>
              <li>Kubernetes</li>
              <li>Git</li>
              <li>CI/CD</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="contact">
      <div class="container">
        <h2>¬øTomamos un caf√©?</h2>
        <p>Conversemos sobre tu pr√≥ximo proyecto</p>
        <div class="social-links">
          <a href="https://github.com/mael098" class="button">GitHub</a>
          <a href="https://www.linkedin.com/in/ivan-villegas-espinosa-08185923b/" class="button">LinkedIn</a>
        </div>
      </div>
    </section>
  </main>
</Layout>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    // Verifica si ya se mostr√≥ el loader antes
    if (localStorage.getItem('loaderShown')) {
      const loaderOverlay = document.getElementById('loader-overlay');
      if (loaderOverlay) {
        loaderOverlay.style.display = 'none';
      }
    } else {
      setTimeout(() => {
        const loaderOverlay = document.getElementById('loader-overlay');
        if (loaderOverlay) {
          loaderOverlay.classList.add('hide');
        }
        // Marca que ya se mostr√≥ el loader
        localStorage.setItem('loaderShown', 'true');
      }, 2000);
    }
  });
</script>
